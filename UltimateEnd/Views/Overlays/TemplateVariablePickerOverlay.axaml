<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="using:UltimateEnd.Models"
             x:Class="UltimateEnd.Views.Overlays.TemplateVariablePickerOverlay"
             x:DataType="models:TemplateVariable">

	<Grid Name="MainGrid"
		  IsVisible="False"
		  Background="#80000000"
		  ZIndex="2000"
		  PointerPressed="OnBackgroundClick">

		<Border Name="PickerPanel"
				Background="{DynamicResource Background.Card}"
				CornerRadius="12"
				Padding="15"
				MaxWidth="400"
				MaxHeight="500"
				VerticalAlignment="Center"
				HorizontalAlignment="Center">

			<Grid RowDefinitions="Auto,*,Auto">
				<!-- 헤더 -->
				<TextBlock Grid.Row="0"
						   Text="템플릿 변수 삽입"
						   FontSize="18"
						   FontWeight="Bold"
						   Foreground="{DynamicResource Text.Primary}"
						   Margin="0,0,0,15"/>

				<!-- 변수 목록 -->
				<ScrollViewer Grid.Row="1">
					<ItemsControl Name="VariableItemsControl">
						<ItemsControl.ItemTemplate>
							<DataTemplate DataType="models:TemplateVariable">
								<Border Background="{DynamicResource Background.Secondary}"
										CornerRadius="8"
										Padding="12"
										Margin="0,0,0,8"
										Cursor="Hand"
										Tapped="OnVariableItemTapped">
									<Grid RowDefinitions="Auto,Auto">
										<TextBlock Grid.Row="0"
												   Text="{Binding Variable}"
												   FontFamily="Consolas,Courier New,monospace"
												   FontSize="14"
												   FontWeight="SemiBold"
												   Foreground="{DynamicResource Accent.Blue}"/>
										<TextBlock Grid.Row="1"
												   Text="{Binding Description}"
												   FontSize="12"
												   Foreground="{DynamicResource Text.Muted}"
												   Margin="0,4,0,0"/>
									</Grid>
								</Border>
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ItemsControl>
				</ScrollViewer>

				<!-- 취소 버튼 -->
				<Button Grid.Row="2"
						Content="취소"
						Click="OnCancelClick"
						Focusable="False"
						Background="{DynamicResource Background.Hover}"
						Foreground="{DynamicResource Text.Primary}"
						HorizontalAlignment="Stretch"
						Margin="0,10,0,0"/>
			</Grid>
		</Border>
	</Grid>
</UserControl>