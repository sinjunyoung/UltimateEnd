<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="UltimateEnd.Views.Overlays.SettingsMenuOverlay"
			 Focusable="True">
	<Grid
		Name="MainGrid"
		IsVisible="False"
		Background="#80000000"
		ZIndex="2000"
		PointerPressed="OnBackgroundClick">

		<!-- 설정 메뉴 패널 -->
		<Border Name="SettingsMenuPanel"
				Background="{DynamicResource Background.Card}"
				CornerRadius="12,0,0,12"
				Padding="10"
				HorizontalAlignment="Right"
				VerticalAlignment="Stretch"
				Width="{StaticResource Size.OverlayWidth}">

			<Grid RowDefinitions="Auto,*"
				  VerticalAlignment="Stretch">
				<!-- 헤더 -->
				<Border Grid.Row="0"
						Background="{DynamicResource Background.Secondary}"
						Padding="10"
						BorderThickness="0,0,0,1"
						BorderBrush="{DynamicResource Background.Border}">
					<Grid ColumnDefinitions="Auto, Auto">
						<Border Grid.Column="0"
								ClipToBounds="False"
								PointerPressed="OnClose"
								Cursor="Hand"
								Margin="0,0,15,0">
							<PathIcon Classes="AnimatedIcon"
									  Data="{StaticResource Icon.Back}"
									  Width="{StaticResource IconSize.MenuIcon}"
									  Height="{StaticResource IconSize.MenuIcon}"
									  VerticalAlignment="Center"/>
						</Border>
						<TextBlock Grid.Column="1"
								   Text="플랫폼 설정"
								   FontSize="20"
								   
								   Foreground="{DynamicResource Text.Primary}"
								   VerticalAlignment="Center"/>						
					</Grid>
				</Border>
				<!-- 설정 메뉴 목록 -->
				<ScrollViewer Grid.Row="1">
					<StackPanel Spacing="5">

						<!-- 에뮬레이터 선택 메뉴 -->
						<Border Name="EmulatorMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								ClipToBounds="False"
								Tapped="OnEmulatorClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/emulator.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="에뮬레이터 변경"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- 스크랩 메뉴 -->
						<Border Name="ScrapMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								ClipToBounds="False"
								Tapped="OnScrapClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/scrap.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="미디어 스크랩"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- 플레이리스트 메뉴 -->
						<Border Name="PlaylistMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								ClipToBounds="False"
								Tapped="OnPlaylistClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/playlist.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="플레이리스트 추가"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- 숨긴 게임 표시 메뉴 -->
						<Border Name="ManageIgnoreGameMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								ClipToBounds="False"
								Tapped="OnManageIgnoreGameClick">
							<Grid ColumnDefinitions="*,Auto">
								<StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8" Margin="0,0,15,0">
									<Image Source="avares://UltimateEnd/Assets/Icons/delete.png"
										   Margin="0,0,5,0"
										   Width="32"
										   Height="32"
										   Stretch="Uniform"/>
									<TextBlock Text="숨긴 게임 표시"
											   FontSize="16"
											   
											   Foreground="{DynamicResource Text.Primary}"
											   VerticalAlignment="Center"/>
								</StackPanel>
								<Border Grid.Column="1" x:Name="DeletedGamesToggle" Width="50" Height="28" CornerRadius="14" Padding="2">
									<Border Width="24" Height="24" CornerRadius="12" Background="White" x:Name="DeletedGamesToggleThumb"/>
								</Border>
							</Grid>
						</Border>

						<!-- 그리드 열 개수 (텍스트 + 슬라이더 하나로) -->
						<Border Name="GridColumnsMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								IsVisible="False">
							<StackPanel Spacing="10">
								<!-- Grid 대신 StackPanel 사용 -->
								<Grid ColumnDefinitions="Auto,*,Auto">
									<Image Grid.Column="0"
										   Source="avares://UltimateEnd/Assets/Icons/layout.png"
										   Margin="0,0,10,0"
										   Width="32"
										   Height="32"
										   Stretch="Uniform"
										   VerticalAlignment="Center"/>
									<TextBlock Grid.Column="1"
											   Text="그리드 열 개수"
											   FontSize="16"
											   
											   Foreground="{DynamicResource Text.Primary}"
											   VerticalAlignment="Center"/>
									<TextBlock Grid.Column="2"
											   Name="GridColumnsValue"
											   Text="자동"
											   FontSize="16"
											   
											   Foreground="{DynamicResource Text.Accent}"
											   VerticalAlignment="Center"
											   Margin="10,0,0,0"/>
								</Grid>

								<Slider Name="GridColumnsSlider"
										Minimum="0"
										Maximum="10"
										Value="0"
										TickFrequency="1"
										IsSnapToTickEnabled="True"
										ValueChanged="OnGridColumnsSliderChanged"/>
							</StackPanel>
						</Border>

						<!-- 심플한 게임명 표시 메뉴 -->
						<Border Name="SimpleGameListMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								ClipToBounds="False"
								IsVisible="False"
								Tapped="OnSimpleGameListClick">
							<Grid ColumnDefinitions="*,Auto">
								<StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8" Margin="0,0,15,0">
									<Image Source="avares://UltimateEnd/Assets/Icons/layout.png"
										   Margin="0,0,5,0"
										   Width="32"
										   Height="32"
										   Stretch="Uniform"/>
									<TextBlock Text="심플한 게임명 표시"
											   FontSize="16"
											   
											   Foreground="{DynamicResource Text.Primary}"
											   VerticalAlignment="Center"/>
								</StackPanel>
								<Border Grid.Column="1" x:Name="SimpleGameListToggle" Width="50" Height="28" CornerRadius="14" Padding="2">
									<Border Width="24" Height="24" CornerRadius="12" Background="White" x:Name="SimpleGameListToggleThumb"/>
								</Border>
							</Grid>
						</Border>
						
						<!-- 화면 레이아웃 초기화 -->
						<Border Name="ResetLayoutMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								IsVisible="False"
								Tapped="OnResetLayoutClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/layout.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="화면 레이아웃 초기화"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- 플랫폼 템플릿 변경 메뉴 -->
						<!--
						<Border Name="PlatformTemplateMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								Tapped="OnPlatformTemplateClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/emulator.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="플랫폼 템플릿 변경"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>
						-->

						<!-- 플랫폼 이미지 변경 메뉴 -->
						<Border Name="PlatformImageMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								Tapped="OnPlatformImageClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/image.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="플랫폼 이미지 변경"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- 페가수스 메타데이터 불러오기 메뉴 -->
						<Border Name="PegasusMetadataMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								Tapped="OnPegasusMetadataClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/pegasus_fe.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="메타데이터 불러오기"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

						<!-- ES-DE 메타데이터 불러오기 메뉴 -->
						<Border Name="EsDeMetadataMenuItem"
								Background="{DynamicResource Background.Secondary}"
								CornerRadius="8"
								Padding="15,12"
								Cursor="Hand"
								Tapped="OnEsDeMetadataClick">
							<StackPanel Orientation="Horizontal" Spacing="8">
								<Image Grid.Column="0"
									   Source="avares://UltimateEnd/Assets/Icons/es-de.png"
									   Margin="0,0,5,0"
									   Width="32"
									   Height="32"
									   Stretch="Uniform"/>
								<TextBlock Grid.Column="1"
										   Text="메타데이터 불러오기"
										   FontSize="16"
										   
										   Foreground="{DynamicResource Text.Primary}"
										   VerticalAlignment="Center"/>
							</StackPanel>
						</Border>

					</StackPanel>
				</ScrollViewer>
			</Grid>
		</Border>
	</Grid>
</UserControl>