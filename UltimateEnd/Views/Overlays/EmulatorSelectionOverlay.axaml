<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="using:UltimateEnd.Models"
             x:Class="UltimateEnd.Views.Overlays.EmulatorSelectionOverlay">
	<Grid 
		Name="MainGrid"
		IsVisible="False"
		Background="#80000000"
		ZIndex="2000"
		PointerPressed="OnBackgroundClick">
		<Border Name="EmulatorPanel"
				Background="{DynamicResource Background.Card}"
				CornerRadius="12,0,0,12"
				Padding="10"
				HorizontalAlignment="Right"
				VerticalAlignment="Stretch"
				Width="{StaticResource Size.OverlayWidth}">
			<Grid RowDefinitions="Auto,*" VerticalAlignment="Stretch">
				<Border Grid.Row="0"
						Background="{DynamicResource Background.Secondary}"
						Padding="10"
						BorderThickness="0,0,0,1"
						BorderBrush="{DynamicResource Background.Border}">
					<Grid ColumnDefinitions="Auto,*">
						<Border Grid.Column="0"
								ClipToBounds="False"
								PointerPressed="OnClose"
								Cursor="Hand"
								Margin="0,0,15,0">
							<PathIcon Classes="AnimatedIcon"
									  Data="{StaticResource Icon.Back}"
									  Width="{StaticResource IconSize.MenuIcon}"
									  Height="{StaticResource IconSize.MenuIcon}"
									  VerticalAlignment="Center"/>
						</Border>
						<TextBlock Grid.Column="1"
								   Text="에뮬레이터 선택"
								   FontSize="20"
								   
								   Foreground="{DynamicResource Text.Primary}"
								   VerticalAlignment="Center"/>
					</Grid>
				</Border>
				<ScrollViewer Grid.Row="1">
					<ItemsControl Name="EmulatorItemsControl">
						<ItemsControl.ItemTemplate>
							<DataTemplate DataType="models:EmulatorInfo">
								<Border Background="{DynamicResource Background.Secondary}"
										CornerRadius="8"
										Padding="0,12"
										Margin="0,0,0,5"
										Cursor="Hand"
										Tapped="OnEmulatorItemTapped">
									<Grid ColumnDefinitions="32,*,Auto">
										<Image Grid.Column="0"
												   Source="{Binding Icon}"
												   Margin="0,0,5,0"
												   Width="32"
												   Height="32"
												   Stretch="Uniform"/>
										<TextBlock Grid.Column="1"
												   Text="{Binding Name}"
												   FontSize="16"
												   
												   Foreground="{DynamicResource Text.Primary}"
												   VerticalAlignment="Center"/>
										<Path Grid.Column="2"
											  Data="{StaticResource Icon.Check}"
											  Fill="{DynamicResource Text.Primary}"
											  Width="20"
											  Height="20"
											  Stretch="Uniform"
											  VerticalAlignment="Center"
											  Margin="0,0,8,0"
											  IsVisible="{Binding IsDefault}"/>
									</Grid>
								</Border>
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ItemsControl>
				</ScrollViewer>
			</Grid>
		</Border>
	</Grid>
</UserControl>